---
import Building from "../../icons/Building.astro";
import Clock from "../../icons/Clock.astro";
import MapPin from "../../icons/MapPin.astro";

const experiencias = [
  {
    empresa: "Aut贸noma",
    puesto: "Desarrolladora Web | Proyectos Personales",
    descripcion: "Desarrollo frontend con Astro, Tailwind CSS y JavaScript.",
    fecha: "Mar. 2025 - Actual",
    institucion: "Freelance",
    ubicacion: "Halach贸, Yucat谩n, M茅xico",
    logo: "/logos/personal.webp",
    actual: true,
  },
  {
    empresa: "CSAS (Centro de Servicio y Apoyo Social)",
    puesto: "Desarrolladora Web | Residencia Profesional",
    descripcion: "Proyecto acad茅mico enfocado en desarrollo de plataforma educativa.",
    fecha: "Ago. 2024 - Dic. 2024",
    institucion: "Instituto Tecnol贸gico Superior de Calkin铆",
    ubicacion: "Calkin铆, Campeche, M茅xico",
    logo: "/logos/logo-itescam.webp",
  },
  {
    empresa: "Mariachis Halach贸",
    puesto: "Desarrolladora Web | Proyecto Escolar",
    descripcion: "Dise帽o y desarrollo de sitio informativo con enfoque administrativo.",
    fecha: "Ene. 2023 - Jul. 2024",
    institucion: "Instituto Tecnol贸gico Superior de Calkin铆",
    ubicacion: "Calkin铆, Campeche, M茅xico",
    logo: "/logos/logo-itescam.webp",
  },
];
---

<!--  Secci贸n de Experiencia -->
<section
  id="experiencia"
  class="container w-full max-w-6xl mx-auto px-4 md:px-6 lg:px-8 flex flex-col items-center justify-center gap-12 experiencia opacity-0 translate-y-10 transition-all duration-1000 ease-out"
>
  <div class="w-full flex flex-col p-4">
    <h2 class="font-bold text-5xl text-left mb-6 text-[var(--color-heading)]">
      Experiencia
    </h2>

    <!--  Grid de tarjetas -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      {experiencias.map((exp) => (
        <article
          class="group relative bg-[var(--color-surface)] rounded-2xl shadow-md hover:shadow-xl transition-all duration-500 ease-in-out hover:-translate-y-2 border border-[var(--color-border)]/10"
        >
          <!-- Encabezado -->
          <div class="flex items-center gap-4 p-6 pb-2">
            <img
              src={exp.logo}
              alt={exp.empresa}
              class="w-12 h-12 rounded-full object-cover bg-white/10 p-1"
              loading="lazy"
            />
            <div class="flex flex-col">
              <h3 class="text-lg font-semibold text-[var(--color-primary)]">
                {exp.puesto}
              </h3>
              <p class="text-sm text-gray-400">{exp.empresa}</p>
            </div>
            {exp.actual && (
              <span
                class="ml-auto bg-blue-500/90 text-white text-xs px-3 py-1 rounded-full"
              >
                Actual
              </span>
            )}
          </div>

          <!-- Informaci贸n -->
          <div class="px-6 pb-6">
            <p class="text-sm text-gray-400 mb-3 leading-relaxed">
              {exp.descripcion}
            </p>

            <!--  Datos con 铆conos personalizados -->
            <div class="text-sm text-gray-500 space-y-1">
              <p class="flex items-center gap-2">
                <Clock class="w-4 h-4 text-[var(--color-secondary)]" />
                {exp.fecha}
              </p>
              <p class="flex items-center gap-2">
                <Building class="w-4 h-4 text-[var(--color-secondary)]" />
                {exp.institucion}
              </p>
              <p class="flex items-center gap-2">
                <MapPin class="w-4 h-4 text-[var(--color-secondary)]" />
                {exp.ubicacion}
              </p>
            </div>
          </div>
        </article>
      ))}
    </div>
  </div>
</section>

<!--  Animaci贸n scroll -->
<script>
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("opacity-100", "translate-y-0");
          entry.target.classList.remove("opacity-0", "translate-y-10");
          observer.unobserve(entry.target);
        }
      });
    },
    { threshold: 0.2 }
  );

  document
    .querySelectorAll(".experiencia")
    .forEach((el) => observer.observe(el));
</script>

<!--  Estilos responsivos -->
<style>
  @media (max-width: 768px) {
    .experiencia img {
      height: 280px;
    }
  }
</style>
