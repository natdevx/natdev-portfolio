---
const habilidades = [
  {
    titulo: "Frontend",
    iconos: [
      "html",
      "css",
      "javascript",
      "typescript",
      "astro",
      "react",
      "angular",
      "tailwindcss",
      "bootstrap",
      "daisyui",
    ],
  },
  {
    titulo: "Backend",
    iconos: ["nodejs", "express", "laravel", "mysql", "mongodb", "python"],
  },
  {
    titulo: "Herramientas",
    iconos: [
      "git",
      "github",
      "vscode",
      "figma",
      "postman",
      "npm",
      "vercel",
      "netlify",
    ],
  },
];
---

<!-- ðŸ”¹ Contenedor general -->
<section
  id="habilidades"
  class="container w-full max-w-6xl mx-auto px-4 md:px-6 lg:px-8 flex flex-col items-start justify-center gap-12 habilidades opacity-0 translate-y-10 transition-all duration-1000 ease-out"
>
  <!-- ðŸ”¹ TÃ­tulo -->
  <h2 class="font-bold text-5xl text-left mb-6 text-[var(--color-heading)]">
    Habilidades
  </h2>

  <!-- ðŸ”¹ Grid de tarjetas -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 w-full">
    {habilidades.map((h) => (
      <article
        class="group bg-[var(--color-surface)] rounded-2xl shadow-md p-6 transition-all duration-500 ease-in-out hover:-translate-y-2 hover:shadow-2xl"
      >
        <h3 class="text-2xl font-semibold mb-4 text-[var(--color-primary)]">
          {h.titulo}
        </h3>

        <div class="grid grid-cols-3 sm:grid-cols-4 gap-4 justify-items-center">
          {h.iconos.map((icon) => (
            <div
              class="flex flex-col items-center transition-all duration-300 hover:-translate-y-2"
            >
              <img
                src={`https://go-skill-icons.vercel.app/api/icons?i=${icon}`}
                alt={icon}
                class="w-12 h-12 md:w-14 md:h-14"
                loading="lazy"
              />
              <span class="text-xs mt-1 text-gray-500 capitalize">
                {icon}
              </span>
            </div>
          ))}
        </div>
      </article>
    ))}
  </div>
</section>

<!-- ðŸ”¹ Script para animaciÃ³n en scroll -->
<script>
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add("opacity-100", "translate-y-0");
          entry.target.classList.remove("opacity-0", "translate-y-10");
          observer.unobserve(entry.target);
        }
      });
    },
    { threshold: 0.2 }
  );

  document.querySelectorAll(".habilidades").forEach((el) => observer.observe(el));
</script>

<!-- ðŸ”¹ Estilos responsivos -->
<style>
  @media (max-width: 768px) {
    .habilidades img {
      width: 48px;
      height: 48px;
    }
  }
</style>
