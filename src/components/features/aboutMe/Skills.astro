---
const habilidades = [
  {
    titulo: "Frontend",
    iconos: [
      "html",
      "css",
      "javascript",
      "typescript",
      "astro",
      "react",
      "angular",
      "tailwindcss",
      "bootstrap",
      "daisyui",
    ],
  },
  {
    titulo: "Backend",
    iconos: [
      "nodejs",
      "express",
      "laravel",
      "mysql",
      "mongodb",
      "python",
    ],
  },
  {
    titulo: "Herramientas",
    iconos: [
      "git",
      "github",
      "vscode",
      "figma",
      "postman",
      "npm",
      "vercel",
      "netlify"
    ],
  },
];
---

<section
  id="habilidades"
  class="container mx-auto px-6 md:px-12 lg:px-16 flex flex-col items-center justify-center gap-12 opacity-0 translate-y-10 transition-all duration-1000 ease-out habilidades-section"
>
  <!-- Título -->
  <h2 class="text-5xl font-bold mb-8 text-[var(--color-primary)] text-center">
    Habilidades
  </h2>

  <!-- Grid de tarjetas -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 w-full">
    {habilidades.map((h) => (
      <div
        class="bg-[var(--color-surface)] rounded-2xl shadow-md hover:shadow-xl p-6 transition-all duration-500 hover:-translate-y-2"
      >
        <h3 class="text-2xl font-semibold mb-4 text-[var(--color-heading)] text-center md:text-left">
          {h.titulo}
        </h3>

        <div class="grid grid-cols-3 sm:grid-cols-4 gap-4 justify-items-center">
          {h.iconos.map((icon) => (
            <div
              class="flex flex-col items-center transition-all duration-500 hover:-translate-y-2"
            >
              <img
                src={`https://go-skill-icons.vercel.app/api/icons?i=${icon}`}
                alt={icon}
                class="w-12 h-12"
                loading="lazy"
              />
              <span class="text-xs mt-1 text-gray-700 capitalize">
                {icon}
              </span>
            </div>
          ))}
        </div>
      </div>
    ))}
  </div>
</section>

<!-- Animación al hacer scroll -->
<script>
  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add("opacity-100", "translate-y-0");
        entry.target.classList.remove("opacity-0", "translate-y-10");
      }
    });
  });

  document
    .querySelectorAll(".habilidades-section")
    .forEach((el) => observer.observe(el));
</script>
